<!DOCTYPE html>
<html>
<head>
<title>Lat-Long</title>
</head>
<body onload="getDistance()">
  <center>
  <h3 style="padding-top: 1em">Calculate Distance Between 2 Coordinate Points</h3>
  <h4>By Alexander Dua</h4>
  </br>
  <p>Please enter all coordinates in decimal degrees.</p>
  </br>
  <p>Latitude 1, Longitude 1</p>
  <input type="text" id="lati1" value="">
  <span>,</span>
  <input type="text" id="long1" value="">
  </br>
  <p>Latitude 2, Longitude 2</p>
  <input type="text" id="lati2" value="">
  <span>,</span>
  <input type="text" id="long2" value="">
  </br>
  </br>
  <button onclick="getDistance()">Submit</button>
  </br>
  <h4 id="demo"></h4>
  </br>
  <p style="text-align:center; padding-left:300px; padding-right:300px;">This site uses the haversine formula to calculate the distance between two pairs of coordinates, both given in decimal degrees. The haversine formula is used to find the shortest between two points on a sphere, such as the Earth.</p>
  <p>The haversine formula is as follows:</p>
  <p>a = sin&#178;((latitude2 - latitude1) &#xF7; 2)	+ cos(latitude2) 	&times; cos(latitude1) &times; sin&#178;((longitude2 - longitude1) &#xF7; 2)</p>
  <p>c = 2 &times; atan2(&radic;a, &radic;(1-a))</p>
  <p>D = 6371000m &times; c</p>
  <p style="text-align:center; padding-left:250px; padding-right:250px;">6371000m is roughly the radius of the Earth in meters. Because this is not the exact radius of the Earth, there is slight error in the calculation, however, it is still more accurate than Google Maps's measure distance tool, as itt factors in the curvature of the Earth.</p>
  <p>The code for this site is available on Alexander Dua's github at </p><a href="https://github.com/alexdua/latlong-distance" target="_blank">https://github.com/alexdua/latlong-distance</a>


  </center>
  <script>
   // Convert Degress to Radians
   function Deg2Rad( deg ) {
      return deg * Math.PI / 180;
   }

   function getDistance()
   {
       var la1 = document.getElementById("lati1").value;
       var la2 = document.getElementById("lati2").value;
       var lo1 = document.getElementById("long1").value;
       var lo2 = document.getElementById("long2").value;
       lat1 = Deg2Rad(la1);
       lat2 = Deg2Rad(la2);
       lon1 = Deg2Rad(lo1);
       lon2 = Deg2Rad(lo2);
       latDiff = lat2-lat1;
       lonDiff = lon2-lon1;
       var R = 6371000; // meters
       var φ1 = lat1;
       var φ2 = lat2;
       var Δφ = latDiff;
       var Δλ = lonDiff;

       var a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +
               Math.cos(φ1) * Math.cos(φ2) *
               Math.sin(Δλ/2) * Math.sin(Δλ/2);
       var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));

       var d = R * c;

       var dist = Math.acos( Math.sin(φ1)*Math.sin(φ2) + Math.cos(φ1)*Math.cos(φ2) * Math.cos(Δλ) ) * R;
       document.getElementById("demo").innerHTML = 'Distance: ' + dist + " meters";
   }
 </script>
</body>
</html>
