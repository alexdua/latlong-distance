<!DOCTYPE html>
<html>
<head>
<title></title>
</head>
<body onload="getDistance()">
  <center>
  <h3 style="padding-top: 1em">Calculate Distance Between 2 Coordinate Points</h3>
  <h4>By Alexander Dua</h4>
  </br>
  <p>Please enter all coordinates in decimal degrees.</p>
  </br>
  <p>Latitude 1, Longitude 1</p>
  <input type="text" id="lati1" value="">
  <span>,</span>
  <input type="text" id="long1" value="">
  </br>
  <p>Latitude 2, Longitude 2</p>
  <input type="text" id="lati2" value="">
  <span>,</span>
  <input type="text" id="long2" value="">
  </br>
  </br>
  <button onclick="getDistance()">Submit</button>
  </br>
  <h4 id="demo"></h4>
  </center>
<script>
   // Convert Degress to Radians
   function Deg2Rad( deg ) {
      return deg * Math.PI / 180;
   }

   function getDistance()
   {
       var la1 = document.getElementById("lati1").value;
       var la2 = document.getElementById("lati2").value;
       var lo1 = document.getElementById("long1").value;
       var lo2 = document.getElementById("long2").value;
       lat1 = Deg2Rad(la1);
       lat2 = Deg2Rad(la2);
       lon1 = Deg2Rad(lo1);
       lon2 = Deg2Rad(lo2);
       latDiff = lat2-lat1;
       lonDiff = lon2-lon1;
       var R = 6371000; // metres
       var φ1 = lat1;
       var φ2 = lat2;
       var Δφ = latDiff;
       var Δλ = lonDiff;

       var a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +
               Math.cos(φ1) * Math.cos(φ2) *
               Math.sin(Δλ/2) * Math.sin(Δλ/2);
       var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));

       var d = R * c;
       //alert('d: ' + d);

       var dist = Math.acos( Math.sin(φ1)*Math.sin(φ2) + Math.cos(φ1)*Math.cos(φ2) * Math.cos(Δλ) ) * R;
       // alert('dist: ' + dist);
       document.getElementById("demo").innerHTML = 'Distance: ' + dist + " meters";
   }
</script>
</body>
</html>
